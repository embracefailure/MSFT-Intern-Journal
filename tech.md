---
layout: page
title: 技术学习
permalink: /tech/
---

## Security

### Azure 安全服务架构

#### Network Layer Controls
- **Network Security Groups (NSGs)**: 用于控制虚拟网络中的入站和出站流量。NSG可以应用于子网或子网与公网之间的traffic。
- **Azure Firewall**: 一个全托管的防火墙服务，提供状态检测、应用层过滤、威胁情报等功能。它是一种完全有状态的防火墙即服务（Firewall as a Service），具有内建高可用性和无限制的云端扩展能力，能够对**东西向流量（东西流）和南北向流量（南北流）**进行检测和过滤。

    Azure 防火墙提供三种版本（SKU）：

    Basic（基础版）：提供与标准版类似的简化安全功能，但不包含高级功能。

    Standard（标准版）：提供从网络层（L3）到应用层（L7）的过滤能力，并整合了来自 微软网络安全中心的威胁情报。

    Premium（高级版）：具备更高级的安全能力，包括基于特征码的入侵检测和防御系统（IDPS），可通过识别特定攻击模式来快速检测攻击行为。

### OAuth 2.0
用户在登录app的时候，想用微软账户登录，访问用户在这个app里面的资源，就涉及到OAuth 2.0协议。

对于app开发团队的好处：
1. 用户密码安全：app开发者再也不用存储和管理用户的密码了。OAuth 2.0的流程确保了用户的密码只在微软的网站上输入，app系统完全接触不到，从而彻底免除了密码泄露的风险。
2. 开发复杂性降低：app开发者不需要从零开始构建一整套用户系统。OAuth 2.0提供了一个标准化的‘剧本’，开发团队只需要调用几个API，就能完成安全的登录集成。

### Palo Alto Networks
Palo Alto Networks 是一家网络安全公司，提供防火墙、云安全、端点保护等解决方案。
NGFW（下一代防火墙）是其核心产品，结合了传统防火墙的功能和现代网络安全需求。
应用识别 (Application Awareness / Layer 7 Inspection)：它不再只看端口号。比如，很多应用都使用80/443端口，NGFW能分辨出这是正常的网页浏览，还是有人在用微信传文件，或者是在使用远程桌面软件进行非法控制。你可以制定“允许访问领英，但禁止在领英上传文件”这样的精细化策略。
用户识别 (User-ID)：它能将网络流量与具体的用户名（比如通过与Azure AD集成）关联起来。策略可以从“允许IP地址10.1.1.5访问”升级为“允许‘财务部张三’访问财务数据库”，这对于审计和追溯至关重要。
威胁防御 (Threat Prevention)：集成了入侵防御系统（IPS）、反病毒、反间谍软件、以及沙箱技术（如PANW的WildFire）。当发现一个可疑文件时，它会先在云端的安全沙箱里“引爆”它，看看它是否有害，然后再决定是否放行。这是防御未知威胁的关键。

### Firewall
根据预先设定的“规则”，检查所有试图通过它的网络流量（数据包），然后决定是“放行”、“拒绝”还是“丢弃”。

在Azure中，我们极少会为每一台虚拟机都配一个防火墙。正确的做法是采用中心辐射型网络拓扑（Hub-and-Spoke Model），将防火墙部署在中心（Hub）位置，进行集中管理。

### ATS Firewall选型
当客户符合以下特征时，Azure Firewall通常是首选：
追求云原生和简便性：客户希望获得与Azure平台无缝集成的、全托管的体验。他们不想管理防火墙底层的虚拟机、操作系统和高可用性配置。Azure Firewall点几下鼠标就能部署，自动扩缩容。
安全需求是“足够好”：客户需要强大的状态检测、基本的威胁情报和URL过滤，但没有极端精细化的应用层控制或防御未知威胁的硬性要求。
成本敏感型客户：对于中小型企业或安全需求不复杂的场景，Azure Firewall的性价比很高。
纯Azure环境：客户的主要业务都在Azure上，没有复杂的多云或混合云策略管理需求。

当客户符合以下特征时，你应该主动提及并推荐Palo Alto Networks：
已有Palo Alto Networks的投资和经验：这是最强烈的信号！如果客户的本地数据中心已经在使用PANW的物理防火墙，他们的安全团队已经非常熟悉其策略管理平台Panorama。在云上使用VM-Series可以让他们复用现有的安全策略、知识体系和管理工具，实现混合云策略的一致性。
需要顶级的下一代安全能力：客户对安全的要求极高，需要前面提到的App-ID, User-ID, 和WildFire沙箱等高级功能来防御高级持续性威胁（APT）和零日攻击。这是Azure Firewall基础版目前无法完全匹敌的。
复杂的多云/混合云战略：客户同时使用AWS、Azure和GCP。使用PANW的Panorama和VM-Series，他们可以用一套统一的策略去管理所有云环境，大大降低了复杂性和安全风险。
严格的合规性要求：在金融、医疗等行业，需要非常精细的流量日志和审计报告。PANW提供的日志和报告能力非常强大，能更好地满足审计要求。

## Multi Agent 框架

### Bicep
Bicep 是 Azure 的基础设施即代码（Infrastructure as Code, IaC）语言，用于以声明式方式定义和部署 Azure 资源。

## Agent 越辩越明
能够自主执行任务，而不是被动响应的多轮对话bot


## Azure 工作负载分类 

| 缩写  | 中文名  | 主要功能                 | Azure 示例                                 |
| --- | ---- | -------------------- | ---------------------------------------- |
| SoE | 交互系统 | 用户界面、交互              | App Service, Power Apps, Static Web Apps |
| SoI | 智能系统 | 数据分析、AI 推理           | Synapse, Azure ML, Power BI              |
| SoX | 体验系统 | 个性化体验（SoE + SoI 的结合） | Personalizer, Bot Service + Web 前端       |
| SoR | 记录系统 | 核心数据记录、系统记录源         | Azure SQL, Cosmos DB, Dynamics 365       |

## Azure 解决方案 Map
![Azure 解决方案 Map](/assets/images/solutionmap.png)

## Azure 认证
- **基础级**
    - AZ-900（Azure基础）
- **助理级**
    - AZ-104（管理员） → AZ-305（架构师）
    - AZ-204（开发者） → AZ-400（DevOps专家）
    - AZ-500（安全工程师） → SC-100（安全架构师）
    - AZ-700（网络工程师）
    - AZ-800 + AZ-801（Windows Server混合管理员）


